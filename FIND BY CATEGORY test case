from django.test import TestCase

from ..models import Product, Category

class ProductModelTest(TestCase):

    def setUp(self):
        # Create 10 fake products with different categories
        for i in range(10):
            category = CategoryFactory()
            ProductFactory(category=category)

    def test_can_find_product_by_category(self):
        """Test that we can find a product by category in the database."""

        category = Category.objects.get(name='Electronics')
        products = Product.objects.filter(category=category)

        self.assertEqual(len(products), 10)
